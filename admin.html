<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FREE VECTOR STOCK - Admin</title>

<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-storage-compat.js"></script>

<style>
body{margin:0;font-family:Arial;background:white}
.header{background:black;color:white;padding:25px;text-align:center;font-size:22px}
.container{padding:40px}
button{background:black;color:white;padding:10px 20px;margin-top:10px;cursor:pointer}
</style>
</head>
<body>

<div class="header">FREE VECTOR STOCK - Admin Panel</div>

<div class="container">
<h2>Unlimited Bulk Upload (JPEG, EPS10, SVG)</h2>
<input type="file" id="files" multiple>
<br>
<button onclick="upload()">Upload</button>
<p id="status"></p>
</div>

<script>
const firebaseConfig = YOUR_FIREBASE_CONFIG_HERE;
firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();
const storage=firebase.storage();

function cleanName(name){
return name.toLowerCase().replace(/[^a-z0-9]/g,"");
}

function detectCategories(name){
let cats=[];
const map={
"sport":"Sports/Recreation",
"people":"People",
"nature":"Nature",
"business":"Business/Finance",
"tech":"Technology"
};
for(let key in map){
if(name.includes(key)) cats.push(map[key]);
}
return cats.length?cats:["Miscellaneous"];
}

function generateTitle(base){
return "High Quality "+base+" Vector Illustration";
}

function generateKeywords(base){
let arr=[];
for(let i=1;i<=20;i++){
arr.push(base+" keyword "+i);
}
return arr;
}

async function upload(){
let files=document.getElementById("files").files;
let grouped={};

for(let f of files){
let base=cleanName(f.name.split(".")[0]);
if(!grouped[base]) grouped[base]={};
if(f.name.endsWith(".jpg")||f.name.endsWith(".jpeg")) grouped[base].jpeg=f;
if(f.name.endsWith(".eps")) grouped[base].eps=f;
if(f.name.endsWith(".svg")) grouped[base].svg=f;
}

for(let base in grouped){
let g=grouped[base];
let categories=detectCategories(base);
let title=generateTitle(base);
let keywords=generateKeywords(base);

let urls={};
for(let type in g){
let ref=storage.ref("uploads/"+base+"."+type);
await ref.put(g[type]);
urls[type]=await ref.getDownloadURL();
}

await db.collection("images").add({
title:title,
keywords:keywords,
categories:categories,
jpeg:urls.jpeg||"",
eps:urls.eps||"",
svg:urls.svg||"",
created:Date.now()
});
}

document.getElementById("status").innerText="Upload Completed";
}
</script>
</body>
</html>
